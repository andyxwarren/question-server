<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Progress Dashboard - All Levels Reference</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: #f5f5f5;
            padding: 0;
        }

        .sticky-header {
            position: sticky;
            top: 0;
            background-color: #f5f5f5;
            z-index: 100;
            padding: 20px 20px 0;
        }

        .column-headers {
            display: table;
            table-layout: fixed;
            margin: 0 auto;
        }

        .col-header {
            display: table-cell;
            background-color: #667eea;
            color: white;
            font-weight: 600;
            font-size: 14px;
            padding: 8px;
            text-align: center;
            border: 1px solid #5a6fd6;
            width: 120px;
            max-width: 120px;
        }

        .col-header.col-mission {
            text-align: left;
            width: 340px;
            min-width: 340px;
        }

        .hidden-thead {
            visibility: collapse;
            height: 0;
        }

        .hidden-thead th {
            padding: 0;
            border: none;
            height: 0;
            line-height: 0;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .dashboard-container {
            margin: 0 auto;
            padding: 0 20px 40px;
            width: fit-content;
        }

        table {
            width: auto;
            table-layout: fixed;
            border-collapse: separate;
            border-spacing: 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        th, td {
            border: 1px solid #ddd;
            border-top: none;
            padding: 8px;
            text-align: center;
        }

        /* Level columns - fixed width */
        td:not(:first-child) {
            width: 120px;
            max-width: 120px;
        }

        thead tr:first-child th {
            border-top: 1px solid #ddd;
        }

        th {
            background-color: #667eea;
            color: white;
            font-weight: 600;
            font-size: 14px;
            position: sticky;
            top: 80px;
            z-index: 50;
        }

        th.level-header {
            width: 120px;
            max-width: 120px;
        }

        /* Row hierarchy styling */
        .world-row {
            background-color: #e8eaf6;
            font-weight: 600;
            font-size: 14px;
        }

        .world-row td {
            background-color: #e8eaf6;
        }

        .world-row td:first-child {
            text-align: left;
            padding-left: 10px;
        }
        
        /* Sticky world indicator */
        .sticky-world-indicator {
            position: fixed;
            top: 175px;
            background-color: #e8eaf6;
            padding: 8px 10px;
            font-weight: 600;
            font-size: 14px;
            z-index: 95;
            display: none;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: left;
        }
        
        .sticky-world-indicator.visible {
            display: block;
        }
        
        /* Hide mobile table header on desktop/tablet */
        .mobile-table-header {
            display: none;
        }

        .mission-row td:first-child {
            text-align: left;
            padding-left: 10px;
            font-size: 13px;
        }

        .mission-row td:first-child > div {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }


        /* Hide launch buttons - mission cells are now clickable */
        .launch-btn {
            display: none;
        }
        
        /* Reference view - mission names are not clickable */
        .mission-row td:first-child {
            cursor: default;
        }
        
        .mission-name {
            flex: 1;
            color: white;
            font-weight: 600;
        }

        /* Pundex cell container */
        .pundex-cell {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2px;
            padding: 4px;
            min-height: 28px;
        }

        /* Individual pundex indicator */
        .pundex {
            width: 100%;
            height: 20px;
            border-radius: 3px;
            background-color: #e0e0e0;
            border: 1px dashed #bbb;
        }

        .pundex.completed {
            border: none;
        }

        /* Pundex colors matching index.html power meter - only applied when completed */
        .pundex.ignition.completed {
            background-color: #e53935;
        }

        .pundex.charging.completed {
            background-color: #ffb300;
        }

        .pundex.ready.completed {
            background-color: #43a047;
        }

        .pundex.power-up.completed {
            background-color: #8e24aa;
        }

        /* Partial progress - fill from left based on correct answers (0-8 scale) */
        .pundex.partial {
            --fill-percent: 0%;
            border: 1px solid currentColor;
            position: relative;
            overflow: hidden;
        }

        .pundex.partial::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: var(--fill-percent);
            opacity: 0.5;
        }

        .pundex.ignition.partial {
            border-color: #e53935;
        }
        .pundex.ignition.partial::before {
            background-color: #e53935;
        }

        .pundex.charging.partial {
            border-color: #ffb300;
        }
        .pundex.charging.partial::before {
            background-color: #ffb300;
        }

        .pundex.ready.partial {
            border-color: #43a047;
        }
        .pundex.ready.partial::before {
            background-color: #43a047;
        }

        .pundex.power-up.partial {
            border-color: #8e24aa;
        }
        .pundex.power-up.partial::before {
            background-color: #8e24aa;
        }

        /* Unavailable level (no modules) */
        td:has(.pundex-cell.unavailable) {
            background-color: #f0f0f0;
        }

        .pundex-cell.unavailable {
            position: relative;
        }

        .pundex-cell.unavailable .pundex {
            visibility: hidden;
        }

        .pundex-cell.unavailable::after {
            content: "â€”";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #bbb;
            font-size: 18px;
        }

        /* All levels view - show all missions, no locking */
        .pundex-cell.locked::after {
            content: "â€”";  /* Same as unavailable */
        }

        .locked-mission {
            display: table-row;
            opacity: 1;
        }

        /* Tooltip styling */
        .pundex-cell {
            position: relative;
            cursor: default;
        }

        .pundex-cell.current-level {
            cursor: pointer;
        }

        /* Tooltip container - created by JavaScript */
        .tooltip {
            position: fixed;
            background-color: #333;
            color: white;
            padding: 8px 10px;
            border-radius: 6px;
            font-size: 11px;
            white-space: pre-line;
            z-index: 1000;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            line-height: 1.4;
            text-align: left;
            pointer-events: none;
            max-width: 250px;
        }

        .tooltip::after {
            content: "";
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            border: 6px solid transparent;
        }

        .tooltip.above::after {
            top: 100%;
            border-top-color: #333;
        }

        .tooltip.below::after {
            bottom: 100%;
            border-bottom-color: #333;
        }

        /* Legend */
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            color: #555;
        }

        .legend-color {
            width: 20px;
            height: 14px;
            border-radius: 3px;
        }

        /* Key Modal */
        .key-modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        
        .key-modal-overlay.open {
            display: flex;
        }
        
        .key-modal {
            background: white;
            border-radius: 12px;
            padding: 20px;
            max-width: 320px;
            width: 90%;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        .key-modal h3 {
            margin: 0 0 15px 0;
            font-size: 18px;
            color: #333;
            text-align: center;
        }
        
        .key-modal .legend {
            display: flex !important;
            flex-direction: column;
            gap: 10px;
            margin: 0;
        }
        
        .key-modal .legend-item {
            font-size: 14px;
        }
        
        .key-modal .legend-color {
            width: 24px;
            height: 18px;
        }
        
        .key-modal-close {
            display: block;
            width: 100%;
            margin-top: 15px;
            padding: 10px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
        }

        /* Mobile styles */
        @media (max-width: 767px) {
            .launch-btn {
                display: none !important;
            }
            
            .mission-row td:first-child {
                cursor: default;
            }
            
            /* Mobile sticky table header */
            .mobile-table-header {
                display: flex !important;
                position: fixed;
                top: 80px;
                left: 10px;
                right: 10px;
                z-index: 150;
                background-color: #667eea;
                border-radius: 4px 4px 0 0;
                height: 26px;
                line-height: 26px;
            }
            
            .mobile-header-cell {
                flex: 1;
                display: flex !important;
                align-items: center;
                justify-content: center;
                padding: 0 4px;
                color: white;
                font-weight: 600;
                font-size: 11px;
                border-right: 1px solid #5a6fd6;
                height: 26px;
            }
            
            .mobile-header-cell:last-child {
                border-right: none;
            }
            
            .mobile-header-cell.mission-col {
                flex: 2.5;
                justify-content: flex-start;
                padding-left: 10px;
            }
            
            .mobile-header-cell.level-header {
                flex: 1;
            }
            
            /* Hide the table's thead on mobile - use fixed header instead */
            .hidden-thead {
                display: none !important;
            }
            
            .hidden-thead th:first-child {
                text-align: left !important;
                padding-left: 10px !important;
                border-radius: 4px 0 0 0;
                width: 40% !important;
            }
            
            .hidden-thead th:nth-child(2),
            .hidden-thead th:nth-child(3),
            .hidden-thead th:nth-child(4) {
                width: 20% !important;
            }
            
            .hidden-thead th:nth-child(4) {
                border-radius: 0 4px 0 0;
            }
            
            /* Hide level 4, 5, 6 columns in thead */
            .hidden-thead th:nth-child(5),
            .hidden-thead th:nth-child(6),
            .hidden-thead th:nth-child(7) {
                display: none !important;
            }
            
            /* Show the separate mobile header */
            .mobile-table-header {
                display: flex !important;
                position: fixed;
                top: 80px;
                left: 10px;
                right: 10px;
                z-index: 500;
                background-color: #667eea;
                border-radius: 4px 4px 0 0;
                height: 30px;
            }
            
            .mobile-header-cell {
                display: flex !important;
                align-items: center;
                justify-content: center;
                color: white;
                font-weight: 600;
                font-size: 12px;
                border-right: 1px solid #5a6fd6;
            }
            
            .mobile-header-cell:last-child {
                border-right: none;
            }
            
            .mobile-header-cell.mission-col {
                width: 40%;
                flex: none;
                justify-content: flex-start;
                padding-left: 10px;
            }
            
            .mobile-header-cell.level-header {
                width: 20%;
                flex: none;
            }
            
            /* Mobile: Card-based layout */
            .column-headers {
                display: none !important;
            }
            
            .dashboard-container {
                padding: 0 10px 40px;
                padding-top: 30px;
                margin-top: 0;
                position: relative;
                z-index: 1;
            }
            
            table {
                display: table;
                width: 100%;
            }
            
            .sticky-header {
                padding: 10px 10px 5px;
                z-index: 200;
                background-color: #f5f5f5;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
            }
            
            .sticky-header h1 {
                font-size: 20px;
                text-align: left;
                padding-right: 60px;
                line-height: 36px;
                min-height: 36px;
            }
            
            #userHeaderContainer {
                top: 10px !important;
            }
            
            .subtitle {
                font-size: 12px;
                margin-bottom: 10px;
            }
            
            .legend {
                display: none !important;
            }
            
            table {
                display: table;
                width: 100%;
                table-layout: fixed;
            }
            
            /* Hide colgroup entirely on mobile */
            colgroup {
                display: table-column-group;
            }
            
            /* Set column widths via colgroup */
            colgroup col:nth-child(1) {
                width: 40% !important;
            }
            
            colgroup col:nth-child(2),
            colgroup col:nth-child(3),
            colgroup col:nth-child(4) {
                width: 20% !important;
            }
            
            colgroup col:nth-child(n+5) {
                width: 0 !important;
                visibility: collapse !important;
            }
            
            tbody {
                display: table-row-group;
            }
            
            /* World rows on mobile - sticky below fixed header */
            .world-row {
                display: table-row;
                background-color: #e8eaf6 !important;
                position: sticky;
                top: 110px;
                z-index: 50;
            }
            
            /* First world row should be at top initially */
            .world-row:first-of-type {
                margin-top: 0;
            }
            
            .world-row td {
                display: table-cell;
                padding: 8px 10px !important;
                border: none !important;
                background-color: #e8eaf6 !important;
                font-weight: 600;
            }
            
            .world-row td:first-child {
                display: table-cell;
                width: 40% !important;
            }
            
            .world-row td:nth-child(2),
            .world-row td:nth-child(3),
            .world-row td:nth-child(4) {
                display: table-cell;
                width: 20% !important;
            }
            
            .world-row td:nth-child(n+5) {
                display: none !important;
                width: 0 !important;
                max-width: 0 !important;
                padding: 0 !important;
                border: none !important;
                overflow: hidden !important;
            }
            
            /* Hide sticky world indicator on mobile - world rows visible in table */
            .sticky-world-indicator {
                display: none !important;
            }
            
            /* Mission rows as table rows on mobile */
            .mission-row {
                display: table-row;
                background: white;
            }
            
            .mission-row td {
                display: table-cell;
                border: 1px solid #e0e0e0 !important;
                padding: 6px 4px !important;
                vertical-align: middle;
            }
            
            .mission-row td:first-child {
                font-weight: 600;
                font-size: 12px;
                width: 40% !important;
                cursor: default;
            }
            
            .mission-row td:nth-child(2),
            .mission-row td:nth-child(3),
            .mission-row td:nth-child(4) {
                width: 20% !important;
            }
            
            .mission-row td:first-child > div::after {
                right: 0;
            }
            
            .mission-row td:not(:first-child) {
                text-align: center;
            }
            
            /* Pundex cells in mobile */
            .pundex-cell {
                grid-template-columns: repeat(4, 1fr);
                gap: 1px;
                padding: 2px;
                min-height: 20px;
            }
            
            .pundex {
                width: 100%;
                height: 16px;
                border-radius: 2px;
            }
            
            /* Mobile: Hide colgroup columns 5, 6, 7 (Level 4, 5, 6) */
            colgroup col:nth-child(5),
            colgroup col:nth-child(6),
            colgroup col:nth-child(7) {
                width: 0 !important;
            }
            
            /* Mobile: Hide Level 4, 5, 6 columns (nth-child 5, 6, 7) */
            .mission-row td:nth-child(n+5) {
                display: none !important;
                width: 0 !important;
                max-width: 0 !important;
                padding: 0 !important;
                border: none !important;
                overflow: hidden !important;
            }
            
            /* Mobile table layout */
            table {
                table-layout: fixed !important;
                width: calc(100% - 20px) !important;
            }
            
            /* Mobile column widths - 4 columns only */
            .mission-row td:first-child,
            .world-row td:first-child {
                width: 40% !important;
            }
            
            .mission-row td:nth-child(2),
            .mission-row td:nth-child(3),
            .mission-row td:nth-child(4),
            .world-row td:nth-child(2),
            .world-row td:nth-child(3),
            .world-row td:nth-child(4) {
                width: 20% !important;
            }
            
        }

    </style>
</head>
<body>

    <div class="sticky-header">
        <h1>ðŸ“Š Mission Reference Document</h1>
        <p class="subtitle">Complete view of all 56 missions across all 6 levels</p>
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background-color: #f0f0f0; border: 1px solid #ccc; display: flex; align-items: center; justify-content: center; color: #ccc; font-size: 10px;">â€”</div>
                <span>No Modules</span>
            </div>
        </div>
        <div class="column-headers">
            <div class="col-header col-mission">World / Mission</div>
            <div class="col-header" id="level1Header">Level 1</div>
            <div class="col-header" id="level2Header">Level 2</div>
            <div class="col-header" id="level3Header">Level 3</div>
            <div class="col-header" id="level4Header">Level 4</div>
            <div class="col-header" id="level5Header">Level 5</div>
            <div class="col-header" id="level6Header">Level 6</div>
        </div>
    </div>

    <!-- Sticky world indicator -->
    <div class="sticky-world-indicator" id="stickyWorldIndicator"></div>

    <!-- Mobile sticky table header -->
    <div class="mobile-table-header" id="mobileTableHeader">
        <div class="mobile-header-cell mission-col">Mission</div>
        <div class="mobile-header-cell level-header" data-level="1">L1</div>
        <div class="mobile-header-cell level-header" data-level="2">L2</div>
        <div class="mobile-header-cell level-header" data-level="3">L3</div>
    </div>

    <div class="dashboard-container">
        <table>
            <colgroup>
                <col style="width: 340px;">
                <col>
                <col>
                <col>
                <col>
                <col>
                <col>
            </colgroup>
            <thead class="hidden-thead">
                <tr>
                    <th>World / Mission</th>
                    <th>Level 1</th>
                    <th>Level 2</th>
                    <th>Level 3</th>
                    <th>Level 4</th>
                    <th>Level 5</th>
                    <th>Level 6</th>
                </tr>
            </thead>
            <tbody>
                <!-- World 1: Number & Place Value (6 missions) -->
                <tr class="world-row">
                    <td colspan="7">ðŸ”¢ Number & Place Value</td>
                </tr>
                <tr class="mission-row" data-cdr="N1">
                    <td>Counting</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="N2">
                    <td>Read, Write, Order & Compare</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="N3">
                    <td>Place Value & Roman Numerals</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="N4">
                    <td>Identify, Represent, Estimate & Round</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="N5">
                    <td>Negative Numbers</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="N6">
                    <td>Number Problems</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>

                <!-- World 2: Calculations (9 missions) -->
                <tr class="world-row">
                    <td colspan="7">âž• Calculations</td>
                </tr>
                <tr class="mission-row" data-cdr="C1">
                    <td>Add & Subtract Mentally</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="C2">
                    <td>Add & Subtract Written</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="C3">
                    <td>Estimate & Inverse</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="C4">
                    <td>Add & Subtract Problems</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="C5">
                    <td>Properties of Number</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="C6">
                    <td>Mult & Div Mentally</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="C7">
                    <td>Mult & Div Written</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="C8">
                    <td>Solve Problems</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="C9">
                    <td>Order of Operations</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>

                <!-- World 3: Fractions, Decimals & % (12 missions) -->
                <tr class="world-row">
                    <td colspan="7">ðŸ”¢ Fractions, Decimals & %</td>
                </tr>
                <tr class="mission-row" data-cdr="F1">
                    <td>Recognise & Count Fractions</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="F2">
                    <td>Equivalent Fractions</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="F3">
                    <td>Compare & Order</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="F4">
                    <td>Add & Subtract Fractions</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="F5">
                    <td>Multiply & Divide</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="F6">
                    <td>Fractions / Decimals Equiv.</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="F7">
                    <td>Rounding Decimals</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="F8">
                    <td>Compare Decimals</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="F9">
                    <td>Mult & Div Decimals</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="F10">
                    <td>Fraction & Decimal Problems</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="F11">
                    <td>FDP Equivalence</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="F12">
                    <td>Percentage Problems</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>

                <!-- World 4: Ratio & Proportion (4 missions) -->
                <tr class="world-row">
                    <td colspan="7">âš–ï¸ Ratio & Proportion</td>
                </tr>
                <tr class="mission-row" data-cdr="R1">
                    <td>Relative Sizes</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="R2">
                    <td>Percentage Comparison</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="R3">
                    <td>Scale Factors</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="R4">
                    <td>Unequal Sharing</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <!-- World 5: Algebra (5 missions) -->
                <tr class="world-row">
                    <td colspan="7">ðŸ”¤ Algebra</td>
                </tr>
                <tr class="mission-row" data-cdr="A1">
                    <td>Missing Numbers</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="A2">
                    <td>Formulae</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="A3">
                    <td>Linear Sequences</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="A4">
                    <td>Two Unknowns</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="A5">
                    <td>Combinations of Variables</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>

                <!-- World 6: Measurement (9 missions) -->
                <tr class="world-row">
                    <td colspan="7">ðŸ“ Measurement</td>
                </tr>
                <tr class="mission-row" data-cdr="M1">
                    <td>Compare & Order</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="M2">
                    <td>Estimate & Measure</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="M3">
                    <td>Money</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="M4">
                    <td>Time</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="M5">
                    <td>Metric Conversion</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="M6">
                    <td>Metric / Imperial</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="M7">
                    <td>Perimeter & Area</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="M8">
                    <td>Volume</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="M9">
                    <td>Measurement Problems</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>

                <!-- World 7: Shapes (5 missions) -->
                <tr class="world-row">
                    <td colspan="7">ðŸ“ Shapes</td>
                </tr>
                <tr class="mission-row" data-cdr="G1">
                    <td>2D Shapes</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="G2">
                    <td>3D Shapes</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="G3">
                    <td>Lines & Angles</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="G4">
                    <td>Draw & Construct</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="G5">
                    <td>Circles</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>

                <!-- World 8: Position & Direction (4 missions) -->
                <tr class="world-row">
                    <td colspan="7">ðŸ§­ Position & Direction</td>
                </tr>
                <tr class="mission-row" data-cdr="P2">
                    <td>Position & Movement</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="P3">
                    <td>Coordinates</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="P1">
                    <td>Pattern & Symmetry</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>

                <!-- World 9: Statistics (3 missions) -->
                <tr class="world-row">
                    <td colspan="7">ðŸ“ˆ Statistics</td>
                </tr>
                <tr class="mission-row" data-cdr="S1">
                    <td>Tables & Timetables</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="S2">
                    <td>Charts & Graphs</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
                <tr class="mission-row" data-cdr="S3">
                    <td>Mean Average</td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                    <td><div class="pundex-cell"><div class="pundex ignition"></div><div class="pundex charging"></div><div class="pundex ready"></div><div class="pundex power-up"></div></div></td>
                </tr>
            </tbody>
        </table>
    </div>


    <!-- Key Modal -->
    <div class="key-modal-overlay" id="keyModalOverlay">
        <div class="key-modal">
            <h3>ðŸ”‘ Key</h3>
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #f0f0f0; border: 1px solid #ccc; display: flex; align-items: center; justify-content: center; color: #ccc; font-size: 10px;">â€”</div>
                    <span>No Modules</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #e0e0e0; border: 1px dashed #bbb;"></div>
                    <span>Not Started</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #e53935;"></div>
                    <span>Ignition</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #ffb300;"></div>
                    <span>Charging</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #43a047;"></div>
                    <span>Ready</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #8e24aa;"></div>
                    <span>Power Up</span>
                </div>
            </div>
            <button class="key-modal-close" id="keyModalClose">Close</button>
        </div>
    </div>

    <!-- Reference document - no login required -->
    <script>
        // Key modal close handlers
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('keyModalClose').addEventListener('click', () => {
                document.getElementById('keyModalOverlay').classList.remove('open');
            });
            
            document.getElementById('keyModalOverlay').addEventListener('click', (e) => {
                if (e.target === e.currentTarget) {
                    e.currentTarget.classList.remove('open');
                }
            });
        });

        // Pundex tier mapping
        const pundexTiers = ['Beginning', 'Developing', 'Meeting', 'Exceeding'];
        const pundexClasses = ['ignition', 'charging', 'ready', 'power-up'];

        // Available levels per CDR (based on topic_rows.csv curriculum data)
        // If a level is NOT in the array, it should be marked unavailable
        const availableLevels = {
            // Number & Place Value
            'N1': [1,2,3,4,5],      // Counting - no Year 6
            'N2': [1,2,3,4,5,6],    // Read, Write, Order & Compare - all years
            'N3': [2,3,4,5,6],      // Place Value & Roman Numerals - no Year 1
            'N4': [1,2,3,4,5,6],    // Identify, Represent, Estimate & Round - all years
            'N5': [4,5,6],          // Negative Numbers - Years 4-6 only
            'N6': [2,3,4,5,6],      // Number Problems - no Year 1
            
            // Calculations
            'C1': [1,2,3,5],        // Add & Subtract Mentally - no Years 4, 6
            'C2': [1,2,3,4,5],      // Add & Subtract Written - no Year 6
            'C3': [2,3,4,5,6],      // Estimate & Inverse - no Year 1
            'C4': [1,2,3,4,5,6],    // Add & Subtract Problems - all years
            'C5': [5,6],            // Properties of Number - Years 5-6 only
            'C6': [2,3,4,5,6],      // Mult & Div Mentally - no Year 1
            'C7': [2,3,4,5,6],      // Mult & Div Written - no Year 1
            'C8': [1,2,3,4,5,6],    // Solve Problems - all years
            'C9': [2,6],            // Order of Operations - Years 2 and 6 only
            
            // Fractions, Decimals & Percentages
            'F1': [1,2,3,4],        // Recognise & Count Fractions - Years 1-4
            'F2': [2,3,4,5,6],      // Equivalent Fractions - no Year 1
            'F3': [3,5,6],          // Compare & Order - Years 3, 5, 6
            'F4': [3,4,5,6],        // Add & Subtract Fractions - Years 3-6
            'F5': [5,6],            // Multiply & Divide - Years 5-6
            'F6': [4,5,6],          // Fractions / Decimals Equiv. - Years 4-6
            'F7': [4,5],            // Rounding Decimals - Years 4-5
            'F8': [4,5],            // Compare Decimals - Years 4-5
            'F9': [4,6],            // Mult & Div Decimals - Years 4 and 6
            'F10': [3,4,5,6],       // Fraction & Decimal Problems - Years 3-6
            'F11': [5,6],           // FDP Equivalence - Years 5-6
            'F12': [5],             // Percentage Problems - Year 5 only
            
            // Ratio & Proportion
            'R1': [6],              // Relative Sizes - Year 6 only
            'R2': [6],              // Percentage Comparison - Year 6 only
            'R3': [6],              // Scale Factors - Year 6 only
            'R4': [6],              // Unequal Sharing - Year 6 only
            
            // Algebra
            'A1': [6],              // Missing Numbers - Year 6 only
            'A2': [6],              // Formulae - Year 6 only
            'A3': [6],              // Linear Sequences - Year 6 only
            'A4': [6],              // Two Unknowns - Year 6 only
            'A5': [6],              // Combinations of Variables - Year 6 only
            
            // Measurement
            'M1': [1,2,3,4],        // Compare & Order - Years 1-4
            'M2': [1,2,3,4],        // Estimate & Measure - Years 1-4
            'M3': [1,2],            // Money - Years 1-2
            'M4': [1,2,3,4,5],      // Time - Years 1-5
            'M5': [4,5,6],          // Metric Conversion - Years 4-6
            'M6': [5,6],            // Metric / Imperial - Years 5-6
            'M7': [3,4,5,6],        // Perimeter & Area - Years 3-6
            'M8': [5,6],            // Volume - Years 5-6
            'M9': [2,3,4,5,6],      // Measurement Problems - no Year 1
            
            // Geometry - Shapes
            'G1': [1,2],            // 2D Shapes - Years 1-2
            'G2': [2,3,4,5,6],      // 3D Shapes - no Year 1
            'G3': [2,3,5,6],        // Lines & Angles - no Years 1, 4
            'G4': [3,4,5,6],        // Draw & Construct - Years 3-6
            'G5': [6],              // Circles - Year 6 only
            
            // Position & Direction
            'P1': [2],              // Pattern & Symmetry - Year 2 only
            'P2': [1,2,4,5,6],      // Position & Movement - no Year 3
            'P3': [4,6],            // Coordinates - Years 4 and 6
            
            // Statistics
            'S1': [2,3,4,5,6],      // Tables & Timetables - no Year 1
            'S2': [2,3,4,5],        // Charts & Graphs - no Years 1, 6
            'S3': [6]               // Mean Average - Year 6 only
        };

        // Mark unavailable levels on page load (curriculum only - no login/progress)
        function markUnavailableLevels() {
            document.querySelectorAll('.mission-row').forEach(row => {
                const cdr = row.getAttribute('data-cdr');
                if (!cdr || !availableLevels[cdr]) return;
                
                const available = availableLevels[cdr];
                const cells = row.querySelectorAll('.pundex-cell');
                
                cells.forEach((cell, index) => {
                    const level = index + 1;
                    
                    // Mark as unavailable if not in curriculum for this mission
                    if (!available.includes(level)) {
                        cell.classList.add('unavailable');
                    }
                });
            });
        }

        // Call on page load
        markUnavailableLevels();

        // Module data - keys match the mission names in the HTML table exactly
        const moduleData = {
            // Number & Place Value
            "Counting": {
                1: ["count to and across 100, forwards and backwards", "count in multiples of twos, fives and tens", "given a number, identify one more and one less"],
                2: ["count in steps of 2, 3, and 5 from 0, and in tens from any number"],
                3: ["count from 0 in multiples of 4, 8, 50 and 100", "find 10 or 100 more or less than a given number"],
                4: ["count backwards through zero to include negative numbers", "count in multiples of 6, 7, 9, 25 and 1000"],
                5: ["count forwards and backwards with positive and negative whole numbers", "count in steps of powers of 10 up to 1,000,000"]
            },
            "Read, Write, Order & Compare": {
                1: ["read and write numbers from 1 to 20", "use language: equal to, more than, less than"],
                2: ["read and write numbers to 100", "compare and order numbers using <, > and ="],
                3: ["read and write numbers up to 1000", "compare and order numbers up to 1000"],
                4: ["read Roman numerals to 100", "order and compare numbers beyond 1000"],
                5: ["read, write, order and compare numbers to 1,000,000", "read Roman numerals to 1000"],
                6: ["read, write, order and compare numbers to 10,000,000"]
            },
            "Place Value & Roman Numerals": {
                2: ["recognise place value in two-digit numbers (tens, ones)"],
                3: ["recognise place value in three-digit numbers", "use Roman numerals I to XII"],
                4: ["recognise place value in four-digit numbers", "read Roman numerals to 100"],
                5: ["determine value of each digit to 1,000,000", "read Roman numerals to 1000"],
                6: ["determine value of each digit to 10,000,000", "identify value to three decimal places"]
            },
            "Identify, Represent, Estimate & Round": {
                1: ["identify and represent numbers using objects and pictures"],
                2: ["identify, represent and estimate numbers on a number line"],
                3: ["identify, represent and estimate numbers up to 1000"],
                4: ["round to nearest 10, 100 or 1000", "round decimals to nearest whole number"],
                5: ["round to nearest 10, 100, 1000, 10,000 and 100,000"],
                6: ["round any whole number to required degree of accuracy"]
            },
            "Negative Numbers": {
                4: ["count backwards through zero to include negative numbers"],
                5: ["interpret negative numbers in context", "count forwards and backwards through zero"],
                6: ["use negative numbers in context", "calculate intervals across zero"]
            },
            "Number Problems": {
                2: ["use place value and number facts to solve problems"],
                3: ["solve number problems and practical problems"],
                4: ["solve problems with increasingly large positive numbers"],
                5: ["solve number problems involving all of the above"],
                6: ["solve number and practical problems"]
            },
            // Calculations
            "Add & Subtract Mentally": {
                1: ["add and subtract one-digit and two-digit numbers to 20"],
                2: ["add and subtract using concrete objects and mentally"],
                3: ["add and subtract mentally: three-digit numbers and ones, tens, hundreds"],
                5: ["add and subtract whole numbers with more than 4 digits"]
            },
            "Add & Subtract Written": {
                1: ["read, write and interpret +, - and = signs"],
                2: ["add and subtract using concrete objects and pictorial representations"],
                3: ["add and subtract with up to three digits using columnar methods"],
                4: ["add and subtract with up to 4 digits using columnar methods"],
                5: ["add and subtract with more than 4 digits using formal written methods"]
            },
            "Estimate & Inverse": {
                2: ["recognise and use inverse relationship between addition and subtraction"],
                3: ["estimate answers and use inverse operations to check"],
                4: ["estimate and use inverse operations to check answers"],
                5: ["use rounding to check answers and determine accuracy"],
                6: ["use estimation to check answers and determine accuracy"]
            },
            "Add & Subtract Problems": {
                1: ["solve one-step problems using concrete objects"],
                2: ["solve problems with addition and subtraction"],
                3: ["solve problems including missing number problems"],
                4: ["solve two-step problems in contexts"],
                5: ["solve multi-step problems in contexts"],
                6: ["solve multi-step problems involving all four operations"]
            },
            "Properties of Number": {
                5: ["identify multiples and factors", "know prime numbers, prime factors", "use square and cube numbers"],
                6: ["identify common factors and multiples", "use common factors to simplify fractions"]
            },
            "Mult & Div Mentally": {
                2: ["recall multiplication facts for 2, 5 and 10 times tables"],
                3: ["recall multiplication facts for 3, 4 and 8 times tables"],
                4: ["recall multiplication facts up to 12 x 12", "use factor pairs and commutativity"],
                5: ["multiply and divide mentally", "multiply and divide by 10, 100 and 1000"],
                6: ["perform mental calculations with mixed operations and large numbers"]
            },
            "Mult & Div Written": {
                2: ["calculate multiplication and division within times tables"],
                3: ["use formal written methods for multiplication and division"],
                4: ["multiply 2-digit and 3-digit numbers by 1-digit using formal layout"],
                5: ["multiply up to 4 digits by 1 or 2 digits", "divide up to 4 digits by 1 digit"],
                6: ["use long multiplication and long division", "divide with answers to 2 decimal places"]
            },
            "Solve Problems": {
                1: ["solve one-step problems using concrete objects and arrays"],
                2: ["solve problems using materials, arrays, repeated addition"],
                3: ["solve problems including missing number problems"],
                4: ["solve problems using distributive law"],
                5: ["solve problems involving factors, multiples, squares and cubes"],
                6: ["solve problems involving all four operations"]
            },
            "Order of Operations": {
                2: ["show that addition and multiplication can be done in any order"],
                6: ["use knowledge of order of operations to carry out calculations"]
            },
            // Fractions, Decimals & Percentages
            "Recognise & Count Fractions": {
                1: ["recognise and find a half and a quarter"],
                2: ["recognise and write fractions 1/3, 1/4, 2/4 and 3/4"],
                3: ["recognise fractions of discrete sets", "count up and down in tenths"],
                4: ["recognise hundredths", "count up and down in hundredths"]
            },
            "Equivalent Fractions": {
                2: ["recognise equivalence of 2/4 and 1/2"],
                3: ["show equivalent fractions with small denominators"],
                4: ["show families of common equivalent fractions"],
                5: ["identify, name and write equivalent fractions"],
                6: ["use common factors to simplify fractions"]
            },
            "Compare & Order": {
                3: ["compare and order unit fractions and fractions with same denominators"],
                5: ["compare and order fractions with related denominators"],
                6: ["compare and order fractions including fractions >1"]
            },
            "Add & Subtract Fractions": {
                3: ["add and subtract fractions with same denominator within one whole"],
                4: ["add and subtract fractions with same denominator"],
                5: ["add and subtract fractions with related denominators"],
                6: ["add and subtract fractions with different denominators and mixed numbers"]
            },
            "Multiply & Divide": {
                5: ["multiply proper fractions and mixed numbers by whole numbers"],
                6: ["multiply pairs of proper fractions", "divide proper fractions by whole numbers"]
            },
            "Fractions / Decimals Equiv.": {
                4: ["recognise decimal equivalents of tenths and hundredths", "recognise decimals for 1/4, 1/2, 3/4"],
                5: ["read and write decimal numbers as fractions", "recognise thousandths"],
                6: ["associate fractions with division", "calculate decimal fraction equivalents"]
            },
            "Rounding Decimals": {
                4: ["round decimals with one decimal place to nearest whole number"],
                5: ["round decimals with two decimal places to nearest whole number and one decimal place"]
            },
            "Compare Decimals": {
                4: ["compare numbers with same number of decimal places up to 2 d.p."],
                5: ["read, write, order and compare numbers with up to 3 d.p."]
            },
            "Mult & Div Decimals": {
                4: ["find effect of dividing by 10 and 100"],
                6: ["multiply and divide by 10, 100 and 1000 with decimal answers", "use written division with answers to 2 d.p."]
            },
            "Fraction & Decimal Problems": {
                3: ["solve problems involving fractions"],
                4: ["solve problems with fractions and decimals"],
                5: ["solve problems with numbers to 3 d.p.", "solve problems with percentage equivalents"],
                6: ["solve problems involving fractions, decimals and percentages"]
            },
            "FDP Equivalence": {
                5: ["recognise % symbol", "understand percent relates to parts per hundred"],
                6: ["recall and use equivalences between fractions, decimals and percentages"]
            },
            "Percentage Problems": {
                5: ["solve problems which require knowing percentage and decimal equivalents"]
            },
            // Ratio & Proportion
            "Relative Sizes": {
                6: ["solve problems involving relative sizes of two quantities"]
            },
            "Percentage Comparison": {
                6: ["solve problems involving calculation of percentages"]
            },
            "Scale Factors": {
                6: ["solve problems involving similar shapes where scale factor is known"]
            },
            "Unequal Sharing": {
                6: ["solve problems involving unequal sharing and grouping"]
            },
            // Algebra
            "Missing Numbers": {
                6: ["express missing number problems algebraically"]
            },
            "Formulae": {
                6: ["use simple formulae"]
            },
            "Linear Sequences": {
                6: ["generate and describe linear number sequences"]
            },
            "Two Unknowns": {
                6: ["find pairs of numbers that satisfy equations with two unknowns"]
            },
            "Combinations of Variables": {
                6: ["enumerate all possibilities of combinations of two variables"]
            },
            // Measurement
            "Compare & Order": {
                1: ["compare, describe and solve practical problems for lengths, mass, capacity, time"],
                2: ["compare and order lengths, mass, volume/capacity using >, < and ="],
                3: ["compare durations of events"],
                4: ["estimate, compare and calculate different measures"]
            },
            "Estimate & Measure": {
                1: ["measure and begin to record lengths, mass, capacity, time"],
                2: ["choose and use appropriate standard units to estimate and measure"],
                3: ["measure, compare, add and subtract: lengths, mass, volume/capacity"],
                4: ["estimate, compare and calculate different measures"]
            },
            "Money": {
                1: ["recognise and know the value of different coins and notes"],
                2: ["recognise and use symbols for Â£ and p", "find different combinations of coins"]
            },
            "Time": {
                1: ["tell time to hour and half past", "sequence events chronologically"],
                2: ["tell and write time to five minutes"],
                3: ["tell time from analogue clock including Roman numerals", "use 12 and 24-hour clocks"],
                4: ["read, write and convert time between analogue and digital"],
                5: ["complete, read and interpret information in timetables"]
            },
            "Metric Conversion": {
                4: ["convert between different units of measure"],
                5: ["convert between different units of metric measure"],
                6: ["solve problems involving calculation and conversion of units"]
            },
            "Metric / Imperial": {
                5: ["understand and use approximate equivalences between metric and imperial units"],
                6: ["use, read, write and convert between standard units"]
            },
            "Perimeter & Area": {
                3: ["measure the perimeter of simple 2-D shapes"],
                4: ["measure and calculate perimeter of rectilinear figures", "find area by counting squares"],
                5: ["calculate and compare area of rectangles", "estimate volume and capacity"],
                6: ["calculate area of parallelograms and triangles", "calculate volume of cuboids"]
            },
            "Volume": {
                5: ["estimate volume and capacity"],
                6: ["calculate, estimate and compare volume of cubes and cuboids"]
            },
            "Measurement Problems": {
                2: ["solve simple problems involving addition and subtraction of money"],
                3: ["add and subtract amounts of money to give change"],
                4: ["solve problems involving money in pounds and pence"],
                5: ["use all four operations to solve problems involving measure"],
                6: ["solve problems involving calculation and conversion of units"]
            },
            // Geometry - Shapes
            "2D Shapes": {
                1: ["recognise and name common 2-D shapes"],
                2: ["identify and describe properties of 2-D shapes", "compare and sort 2-D shapes"]
            },
            "3D Shapes": {
                2: ["identify and describe properties of 3-D shapes", "identify 2-D shapes on 3-D shapes"],
                3: ["make 3-D shapes using modelling materials"],
                4: ["compare and classify geometric shapes based on properties"],
                5: ["identify 3-D shapes from 2-D representations"],
                6: ["recognise, describe and build simple 3-D shapes including nets"]
            },
            "Lines & Angles": {
                2: ["identify vertical and horizontal lines"],
                3: ["identify right angles", "identify perpendicular and parallel lines"],
                5: ["know angles are measured in degrees", "identify angles at a point and on a straight line"],
                6: ["find unknown angles in triangles, quadrilaterals and polygons"]
            },
            "Draw & Construct": {
                3: ["draw 2-D shapes"],
                4: ["complete a simple symmetric figure"],
                5: ["draw given angles and measure them in degrees"],
                6: ["draw 2-D shapes using given dimensions and angles"]
            },
            "Circles": {
                6: ["illustrate and name parts of circles: radius, diameter, circumference"]
            },
            // Position & Direction
            "Pattern & Symmetry": {
                2: ["order and arrange combinations of objects in patterns and sequences"]
            },
            "Position & Movement": {
                1: ["describe position, direction and movement including turns"],
                2: ["use mathematical vocabulary to describe position, direction and movement"],
                4: ["describe movements between positions as translations"],
                5: ["identify, describe and represent position after reflection or translation"],
                6: ["draw and translate shapes on coordinate plane, reflect in axes"]
            },
            "Coordinates": {
                4: ["describe positions on a 2-D grid as coordinates", "plot specified points"],
                6: ["describe positions on full coordinate grid (all four quadrants)"]
            },
            // Statistics
            "Tables & Timetables": {
                2: ["interpret and construct simple pictograms, tally charts, block diagrams and tables"],
                3: ["interpret and present data using bar charts, pictograms and tables"],
                4: ["interpret and present discrete and continuous data"],
                5: ["complete, read and interpret information in tables including timetables"],
                6: ["interpret and construct pie charts and line graphs"]
            },
            "Charts & Graphs": {
                2: ["ask and answer questions by counting objects and comparing data"],
                3: ["solve one-step and two-step questions using bar charts and pictograms"],
                4: ["solve comparison, sum and difference problems using graphs"],
                5: ["solve problems using information presented in a line graph"]
            },
            "Mean Average": {
                6: ["calculate and interpret the mean as an average"]
            }
        };

        // Reference view - show all 6 levels
        let maxDisplayLevel = 6;

        // Count missions available at each level
        const missionCountsPerLevel = {1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0};
        Object.values(availableLevels).forEach(levels => {
            levels.forEach(level => {
                if (missionCountsPerLevel[level] !== undefined) {
                    missionCountsPerLevel[level]++;
                }
            });
        });

        // Update level headers with mission counts
        for (let level = 1; level <= 6; level++) {
            const header = document.getElementById(`level${level}Header`);
            if (header) {
                header.textContent = `Level ${level} (${missionCountsPerLevel[level]})`;
            }
        }

        // STEP 2: Hide columns beyond maxDisplayLevel
        // Update column headers
        const colHeaders = document.querySelectorAll('.col-header');
        colHeaders.forEach((header, index) => {
            if (index > maxDisplayLevel) { // index 0 is mission column, 1-6 are levels
                header.style.display = 'none';
            }
        });

        // Update colgroup - set explicit widths
        const cols = document.querySelectorAll('colgroup col');
        cols.forEach((col, index) => {
            if (index > maxDisplayLevel) {
                col.style.display = 'none';
            } else if (index === 0) {
                col.style.width = '340px';
            } else {
                col.style.width = '120px';
            }
        });

        // Update hidden thead
        const thCells = document.querySelectorAll('.hidden-thead th');
        thCells.forEach((th, index) => {
            if (index > maxDisplayLevel) {
                th.style.display = 'none';
            }
        });

        // STEP 3: Process each row - hide cells beyond maxDisplayLevel and determine visibility
        document.querySelectorAll('tbody tr').forEach(row => {
            const cells = row.querySelectorAll('td');
            
            // For world rows, update colspan
            if (row.classList.contains('world-row')) {
                const td = row.querySelector('td');
                td.setAttribute('colspan', maxDisplayLevel + 1);
                return;
            }
            
            // For mission rows, hide extra cells and check if row should be visible
            if (row.classList.contains('mission-row')) {
                let hasVisibleModules = false;
                
                cells.forEach((cell, index) => {
                    if (index === 0) return; // Skip mission name column
                    
                    if (index > maxDisplayLevel) {
                        cell.style.display = 'none';
                    } else {
                        // Check if this level has modules (not unavailable)
                        const pundexCell = cell.querySelector('.pundex-cell');
                        if (pundexCell && !pundexCell.classList.contains('unavailable')) {
                            hasVisibleModules = true;
                        }
                    }
                });
                
                // Reference view - show all missions, don't hide any
                // (removed hiding logic for reference document)
            }
        });

        // Reference view - show all world rows (no hiding)

        // STEP 6: Apply tooltips to all pundex cells (reference view - no click functionality)
        document.querySelectorAll('.mission-row').forEach(row => {
            const firstCell = row.querySelector('td:first-child');
            const missionName = firstCell.textContent.trim();
            
            // Skip if no mission name found
            if (!missionName) return;
            
            const cells = row.querySelectorAll('.pundex-cell');
            
            cells.forEach((cell, index) => {
                const level = index + 1;
                if (level > maxDisplayLevel) return; // Skip hidden levels
                
                const modules = moduleData[missionName] && moduleData[missionName][level];
                
                // Add tooltip if modules exist and cell is not unavailable
                if (modules && modules.length > 0 && !cell.classList.contains('unavailable')) {
                    const tooltipText = modules.map((m, i) => `â€¢ ${m}`).join('\n');
                    cell.setAttribute('data-tooltip', tooltipText);
                }
                
                cell.dataset.mission = missionName;
                cell.dataset.level = level;
            });
            
            // Reference view - keep mission name as plain text (no buttons needed)
        });

        // Mobile view adjustments
        const isMobile = window.innerWidth <= 767;
        
        // Mobile: Update thead labels to shorter versions and determine which 3 levels to show
        if (isMobile) {
            // Update thead labels to shorter versions
            const thead = document.querySelector('.hidden-thead');
            if (thead) {
                const ths = thead.querySelectorAll('th');
                if (ths[0]) ths[0].textContent = 'Mission';
                if (ths[1]) ths[1].textContent = 'L1';
                if (ths[2]) ths[2].textContent = 'L2';
                if (ths[3]) ths[3].textContent = 'L3';
            }
            
            // Find the lowest level where user hasn't completed all missions
            let startLevel = 1;
            const allMissionRows = document.querySelectorAll('.mission-row');
            
            // Check each level (1-6) to find the first incomplete one
            for (let level = 1; level <= 6; level++) {
                let allCompleteAtLevel = true;
                allMissionRows.forEach(row => {
                    const levelCell = row.querySelector(`td:nth-child(${level + 1}) .pundex-cell`);
                    if (levelCell && !levelCell.classList.contains('unavailable')) {
                        const completedCount = levelCell.querySelectorAll('.pundex.completed').length;
                        const totalPundex = levelCell.querySelectorAll('.pundex').length;
                        if (completedCount < totalPundex) {
                            allCompleteAtLevel = false;
                        }
                    }
                });
                
                if (!allCompleteAtLevel) {
                    startLevel = level;
                    break;
                }
            }
            
            // Ensure we show levels startLevel to startLevel+2, max level 6
            if (startLevel > 4) startLevel = 4; // Max start is 4 to show 4,5,6
            
            // Update mobile header labels
            const mobileHeader = document.getElementById('mobileTableHeader');
            const levelHeaders = mobileHeader.querySelectorAll('.level-header');
            levelHeaders.forEach((header, index) => {
                const levelNum = startLevel + index;
                header.textContent = `L${levelNum}`;
                header.dataset.level = levelNum;
            });
            
            // Show/hide appropriate level columns in table
            allMissionRows.forEach(row => {
                for (let level = 1; level <= 6; level++) {
                    const cell = row.querySelector(`td:nth-child(${level + 1})`);
                    if (cell) {
                        if (level >= startLevel && level < startLevel + 3) {
                            cell.classList.add('mobile-show-level');
                            cell.classList.remove('mobile-hide-level');
                        } else {
                            cell.classList.add('mobile-hide-level');
                            cell.classList.remove('mobile-show-level');
                        }
                    }
                }
            });
            
            // Also update world rows
            document.querySelectorAll('.world-row').forEach(row => {
                for (let level = 1; level <= 6; level++) {
                    const cell = row.querySelector(`td:nth-child(${level + 1})`);
                    if (cell) {
                        if (level >= startLevel && level < startLevel + 3) {
                            cell.classList.add('mobile-show-level');
                            cell.classList.remove('mobile-hide-level');
                        } else {
                            cell.classList.add('mobile-hide-level');
                            cell.classList.remove('mobile-show-level');
                        }
                    }
                }
            });
        }

        // Reference view - no click functionality, tooltips only

        // Create tooltip element
        const tooltip = document.createElement('div');
        tooltip.className = 'tooltip';
        tooltip.style.display = 'none';
        document.body.appendChild(tooltip);
        
        let activeTooltipCell = null;
        const isTouchDevice = window.innerWidth <= 1024; // Mobile and tablet
        
        function showTooltip(cell) {
            const tooltipText = cell.getAttribute('data-tooltip');
            if (!tooltipText) return;

            tooltip.textContent = tooltipText;
            tooltip.style.display = 'block';

            const cellRect = cell.getBoundingClientRect();
            const tooltipRect = tooltip.getBoundingClientRect();
            
            // Calculate horizontal position (centered on cell)
            let left = cellRect.left + (cellRect.width / 2) - (tooltipRect.width / 2);
            // Keep tooltip within viewport horizontally
            if (left < 10) left = 10;
            if (left + tooltipRect.width > window.innerWidth - 10) {
                left = window.innerWidth - tooltipRect.width - 10;
            }
            tooltip.style.left = left + 'px';

            // Check if there's enough space above
            const spaceAbove = cellRect.top;

            if (spaceAbove >= tooltipRect.height + 15) {
                // Show above
                tooltip.style.top = (cellRect.top - tooltipRect.height - 8) + 'px';
                tooltip.className = 'tooltip above';
            } else {
                // Show below
                tooltip.style.top = (cellRect.bottom + 8) + 'px';
                tooltip.className = 'tooltip below';
            }
            
            activeTooltipCell = cell;
        }
        
        function hideTooltip() {
            tooltip.style.display = 'none';
            activeTooltipCell = null;
        }

        // Add handlers for tooltips
        document.querySelectorAll('.pundex-cell[data-tooltip]').forEach(cell => {
            // Desktop: hover behavior
            cell.addEventListener('mouseenter', (e) => {
                if (!isTouchDevice) {
                    showTooltip(cell);
                }
            });

            cell.addEventListener('mouseleave', () => {
                if (!isTouchDevice) {
                    hideTooltip();
                }
            });
            
            // Mobile/Tablet: tap to show, tap again to close
            cell.addEventListener('click', (e) => {
                if (isTouchDevice) {
                    e.stopPropagation();
                    if (activeTooltipCell === cell) {
                        // Tap on same cell - hide tooltip
                        hideTooltip();
                    } else {
                        // Tap on different cell - show tooltip
                        showTooltip(cell);
                    }
                }
            });
        });
        
        // Close tooltip when tapping elsewhere on mobile/tablet
        if (isTouchDevice) {
            document.addEventListener('click', (e) => {
                if (activeTooltipCell && !e.target.closest('.pundex-cell') && !e.target.closest('.tooltip')) {
                    hideTooltip();
                }
            });
            
            // Also close when tapping the tooltip itself
            tooltip.addEventListener('click', () => {
                hideTooltip();
            });
        }

        // Sticky world indicator logic
        const stickyIndicator = document.getElementById('stickyWorldIndicator');
        const stickyHeader = document.querySelector('.sticky-header');
        const table = document.querySelector('table');
        
        function updateStickyWorld() {
            const headerBottom = stickyHeader.getBoundingClientRect().bottom;
            const tableRect = table.getBoundingClientRect();
            let currentWorld = null;
            
            // Get all world rows fresh each time (they're hidden by CSS but still in DOM)
            const worldRows = document.querySelectorAll('.world-row');
            
            // Find the current world based on which mission rows are visible
            // Look at mission rows and find which world they belong to
            const missionRows = document.querySelectorAll('.mission-row');
            
            missionRows.forEach(row => {
                const rect = row.getBoundingClientRect();
                // If this mission row is at or above the sticky indicator position
                if (rect.top <= headerBottom + 60 && rect.bottom > headerBottom) {
                    // Find the world row that precedes this mission
                    let prevSibling = row.previousElementSibling;
                    while (prevSibling) {
                        if (prevSibling.classList.contains('world-row')) {
                            currentWorld = prevSibling.querySelector('td').textContent;
                            break;
                        }
                        prevSibling = prevSibling.previousElementSibling;
                    }
                }
            });
            
            // If no current world found yet, use the first world
            if (!currentWorld && worldRows.length > 0) {
                currentWorld = worldRows[0].querySelector('td').textContent;
            }
            
            // Always show the sticky indicator with current world
            if (currentWorld) {
                stickyIndicator.textContent = currentWorld;
                stickyIndicator.style.left = tableRect.left + 'px';
                stickyIndicator.style.width = tableRect.width + 'px';
                stickyIndicator.style.top = (headerBottom) + 'px';
                stickyIndicator.classList.add('visible');
            }
        }
        
        window.addEventListener('scroll', updateStickyWorld);
        window.addEventListener('resize', updateStickyWorld);
        // Run after a short delay to ensure page is fully loaded
        setTimeout(updateStickyWorld, 100);
    </script>
</body>
</html>
